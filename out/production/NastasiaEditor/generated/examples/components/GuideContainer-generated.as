
/**
 *  Generated by mxmlc 4.0
 *
 *  Package:    examples.components
 *  Class:      GuideContainer
 *  Source:     D:\a.krasovsky\Dropbox\projects\my\site\NastasiaEditor\src\examples\components\GuideContainer.mxml
 *  Template:   flex2/compiler/mxml/gen/ClassDef.vm
 *  Time:       2014.01.15 05:00:19 AST
 */

package examples.components
{

import flash.accessibility.*;
import flash.debugger.*;
import flash.display.*;
import flash.errors.*;
import flash.events.*;
import flash.external.*;
import flash.geom.*;
import flash.media.*;
import flash.net.*;
import flash.printing.*;
import flash.profiler.*;
import flash.system.*;
import flash.text.*;
import flash.ui.*;
import flash.utils.*;
import flash.xml.*;
import mx.binding.*;
import mx.core.ClassFactory;
import mx.core.DeferredInstanceFromClass;
import mx.core.DeferredInstanceFromFunction;
import mx.core.IDeferredInstance;
import mx.core.IFactory;
import mx.core.IFlexModuleFactory;
import mx.core.IPropertyChangeNotifier;
import mx.core.mx_internal;
import mx.filters.*;
import mx.graphics.SolidColorStroke;
import mx.styles.*;
import spark.components.Group;
import spark.primitives.Line;



//  begin class def
public class GuideContainer
    extends spark.components.Group
{

    //  instance variables
    [Bindable]
	/**
 * @private
 **/
    public var hGuide : spark.primitives.Line;

    [Bindable]
	/**
 * @private
 **/
    public var passiveGuideGroup : spark.components.Group;

    [Bindable]
	/**
 * @private
 **/
    public var vGuide : spark.primitives.Line;


    //  type-import dummies



    //  constructor (Flex display object)
    /**
     * @private
     **/
    public function GuideContainer()
    {
        super();

        mx_internal::_document = this;




        // layer initializers

       
        // properties
        this.mxmlContent = [_GuideContainer_Group2_i(), _GuideContainer_Line1_i(), _GuideContainer_Line2_i()];


        // events












    }

    /**
     * @private
     **/ 
    private var __moduleFactoryInitialized:Boolean = false;

    /**
     * @private
     * Override the module factory so we can defer setting style declarations
     * until a module factory is set. Without the correct module factory set
     * the style declaration will end up in the wrong style manager.
     **/ 
    override public function set moduleFactory(factory:IFlexModuleFactory):void
    {
        super.moduleFactory = factory;
        
        if (__moduleFactoryInitialized)
            return;

        __moduleFactoryInitialized = true;


        // our style settings



                         
    }
 
    //  initialize()
    /**
     * @private
     **/
    override public function initialize():void
    {


        super.initialize();
    }


    //  scripts
    //  <Script>, line 8 - 58

        import com.vstyran.transform.consts.TransformationType;
        import com.vstyran.transform.events.GuidelineEvent;
        import com.vstyran.transform.model.Guideline;

        import mx.core.UIComponent;

        import spark.components.Image;

        public function updateGuideLines(event:GuidelineEvent):void {
            if (event.cross && event.cross.vGuideline)
            {
                vGuide.x = event.cross.vGuideline.value;
            }
            vGuide.visible = (event.cross && event.cross.vGuideline);

            if (event.cross && event.cross.hGuideline)
                hGuide.y = event.cross.hGuideline.value;
            hGuide.visible = (event.cross && event.cross.hGuideline);

            passiveGuideGroup.removeAllElements();
            if (event.cross) {
//                if (showPassiveGuides.selected) {
                    for each (var vguide:Guideline in event.cross.getVGuidelines()) {
                        var vGuideLine:VGuideLine = new VGuideLine();
                        vGuideLine.x = vguide.value;
                        passiveGuideGroup.addElement(vGuideLine);
                    }
                    for each (var hguide:Guideline in event.cross.getHGuidelines()) {
                        var hGuideLine:HGuideLine = new HGuideLine();
                        hGuideLine.y = hguide.value;
                        passiveGuideGroup.addElement(hGuideLine);
                    }
//                }

                if (event.transformationType == TransformationType.ROTATE) {
                    if (event.cross.rGuideline) {
                        var rTargetGuideLine:RGuideLine = new RGuideLine();
                        rTargetGuideLine.update(event.target as UIComponent, passiveGuideGroup);
                        passiveGuideGroup.addElement(rTargetGuideLine);
                    }

                    for each (var rguide:Guideline in event.cross.getRGuidelines()) {
                        var rGuideLine:RGuideLine = new RGuideLine();
                        rGuideLine.update(rguide.userData as Image, passiveGuideGroup);
                        passiveGuideGroup.addElement(rGuideLine);
                    }
                }
            }
        }
        

    //  end scripts


    //  supporting function definitions for properties, events, styles, effects
private function _GuideContainer_Group2_i() : spark.components.Group
{
	var temp : spark.components.Group = new spark.components.Group();
	temp.top = 0;
	temp.bottom = 0;
	temp.left = 0;
	temp.right = 0;
	temp.id = "passiveGuideGroup";
	if (!temp.document) temp.document = this;
	passiveGuideGroup = temp;
	mx.binding.BindingManager.executeBindings(this, "passiveGuideGroup", passiveGuideGroup);
	return temp;
}

private function _GuideContainer_Line1_i() : spark.primitives.Line
{
	var temp : spark.primitives.Line = new spark.primitives.Line();
	temp.yFrom = 45;
	temp.yTo = 275;
	temp.depth = 3;
	temp.visible = false;
	temp.stroke = _GuideContainer_SolidColorStroke1_c();
	temp.initialized(this, "vGuide")
	vGuide = temp;
	mx.binding.BindingManager.executeBindings(this, "vGuide", vGuide);
	return temp;
}

private function _GuideContainer_SolidColorStroke1_c() : mx.graphics.SolidColorStroke
{
	var temp : mx.graphics.SolidColorStroke = new mx.graphics.SolidColorStroke();
	temp.color = 11141120;
	return temp;
}

private function _GuideContainer_Line2_i() : spark.primitives.Line
{
	var temp : spark.primitives.Line = new spark.primitives.Line();
	temp.xFrom = 30;
	temp.xTo = 430;
	temp.depth = 3;
	temp.visible = false;
	temp.stroke = _GuideContainer_SolidColorStroke2_c();
	temp.initialized(this, "hGuide")
	hGuide = temp;
	mx.binding.BindingManager.executeBindings(this, "hGuide", hGuide);
	return temp;
}

private function _GuideContainer_SolidColorStroke2_c() : mx.graphics.SolidColorStroke
{
	var temp : mx.graphics.SolidColorStroke = new mx.graphics.SolidColorStroke();
	temp.color = 11141120;
	return temp;
}





    //  embed carrier vars
    //  end embed carrier vars


//  end class def
}

//  end package def
}
